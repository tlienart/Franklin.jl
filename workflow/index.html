<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
   <!-- Syntax highlighting via Prism, note: restricted langs -->
<link rel="stylesheet" href="/libs/highlight/github.min.css">
   
  <link rel="stylesheet" href="/css/jtd.css">
  <link rel="icon" href="/assets/infra/logoF_square.gif">
   <title>Working with Franklin</title>  

  <!-- LUNR -->
  <script src="/libs/lunr/lunr.min.js"></script>
  <script src="/libs/lunr/lunr_index.js"></script>
  <script src="/libs/lunr/lunrclient.min.js"></script>

  <!-- PLOTLY -->
  

</head>
<body>                      <!-- closed in foot.html -->
  <div class="page-wrap">   <!-- closed in foot.html -->
    <!-- SIDE BAR -->
    <div class="side-bar">
      <div class="header">
        <a href="/" class="title">
          <img style="height:60px;" src="/assets/infra/franklin.svg" alt="franklin" />
          <style>
          @media (max-width: 31.25rem){
            .side-bar .show-menu {height:30px;}
          }
          @media (max-width: 50rem) {
            .side-bar .header .title {padding-top:0; padding-bottom: 0;}
            .header .title img {height:60px; max-width: 100px !important;}
          }
          @media (min-width: 66.5rem){
            .header .title img {max-width: 140px !important;}
          }
          </style>
        </a>
      </div>
      <label for="show-menu" class="show-menu">MENU</label>
      <input type="checkbox" id="show-menu" role="button">
      <div class="menu" id="side-menu">
        <ul class="menu-list">
          <!-- HOME -->
          <li class="menu-list-item "><a href="/" class="menu-list-link">• Home</a>
          <!-- WORKFLOW -->
		  <li class="menu-list-parent active"><a href="/workflow/" class="menu-list-link">• Workflow</a>
			  <ul class="menu-list-child-list ">
				<li class="menu-list-item active"><a href="/workflow/" class="menu-list-link">Create and edit</a>
				<li class="menu-list-item "><a href="/workflow/structure/" class="menu-list-link">Page structure</a>
				<li class="menu-list-item "><a href="/workflow/deploy/" class="menu-list-link">Deploy</a>
				<li class="menu-list-item "><a href="/workflow/sitemap-rss/" class="menu-list-link">Sitemap and RSS</a>
			  </ul>
          <!-- SYNTAX -->
          <!-- NOTE: if adding a menu item, add ref to first item! -->
          <li class="menu-list-parent "><a href="/syntax/markdown/" class="menu-list-link">• Syntax</a>
            <ul class="menu-list-child-list ">
              <li class="menu-list-item "><a href="/syntax/markdown/" class="menu-list-link">Markdown</a>
              <li class="menu-list-item "><a href="/syntax/divs-commands/" class="menu-list-link">Divs and Commands</a>
              <li class="menu-list-item "><a href="/syntax/page-variables/" class="menu-list-link">Page Variables</a>
							<li class="menu-list-item "><a href="/syntax/rss/" class="menu-list-link">RSS</a>
			  <li class="menu-list-item "><a href="/syntax/utils/" class="menu-list-link">Utils</a>
            </ul>
		  <!-- STYLING -->
          <li class="menu-list-parent "><a href="/styling/templates/" class="menu-list-link">• Styling</a>
            <ul class="menu-list-child-list ">
              <li class="menu-list-item "><a href="/styling/templates/" class="menu-list-link">Templates</a>
              <li class="menu-list-item "><a href="/styling/classes/" class="menu-list-link">Classes</a>
            </ul>
          <!-- CODE -->
          <li class="menu-list-parent "><a href="/code/" class="menu-list-link">• Code</a>
            <ul class="menu-list-child-list ">
              <li class="menu-list-item "><a href="/code/" class="menu-list-link">Inserting code</a>
              <li class="menu-list-item "><a href="/code/eval-tricks/" class="menu-list-link">Code tricks</a>
              <li class="menu-list-item "><a href="/code/literate/" class="menu-list-link">Literate.jl</a>
            </ul>
		  <!-- EXTRAs -->
		  <li class="menu-list-parent "><a href="/extras/" class="menu-list-link">• Extras</a>
			  <ul class="menu-list-child-list ">
				<li class="menu-list-item "><a href="/extras/" class="menu-list-link">Overview</a>
				<li class="menu-list-item "><a href="/extras/lunr/" class="menu-list-link">Search with Lunr</a>
                <li class="menu-list-item "><a href="/extras/utterances/" class="menu-list-link">Comments with Utterances</a>
				<li class="menu-list-item "><a href="/extras/literate/" class="menu-list-link">Literate</a>
				<li class="menu-list-item "><a href="/extras/plotly/" class="menu-list-link">Plotly</a>
			  </ul>
          <!-- FAQ -->
          <li class="menu-list-parent "><a href="/faq/technical/" class="menu-list-link">• FAQ</a>
            <ul class="menu-list-child-list ">
              <li class="menu-list-item "><a href="/faq/technical/" class="menu-list-link">Technical</a>
			  <li class="menu-list-item "><a href="/faq/troubleshooting/" class="menu-list-link">Troubleshooting</a>
              <li class="menu-list-item "><a href="/faq/why-o-why/" class="menu-list-link">Meta</a>
            </ul>
        </ul>
			<form id="lunrSearchForm" name="lunrSearchForm">
				<input class="search-input" name="q" placeholder="Enter search term" type="text"> <input type="submit" value="Search" formaction="/search/index.html">
			</form>
      </div>
      <div class="footer">
        <a href="/faq/why-o-why/"><img style="width:40%;padding-left:10px;margin-bottom:15px;" src="/assets/infra/logoF2.svg" alt="Franklin Logo" /></a>
      </div>
    </div>
    <!-- CONTENT -->
    <div class="main-content-wrap"> <!-- closed in foot.html -->
      <div class="main-content" id="focus" tabindex="-1" style="outline:0;">    <!-- closed in foot.html -->
        <div class="main-header">
          <a name="pagetop"></a>

          <a id="github" href="https://github.com/tlienart/Franklin.jl/blob/master/docs/workflow/index.md">Page source</a>
		  <span style="width:30px; text-align: center;color:lightgray;">|</span>
		  <a id="github" href="https://github.com/tlienart/Franklin.jl">GitHub Repository</a>
        </div>

<!-- Content appended here (in class franklin-content) -->
<div class="franklin-content"><h1 id="working_with_franklin"><a href="#working_with_franklin" class="header-anchor">Working with Franklin</a></h1>

    <span style="font-size:24px;font-weight:300;">Set things up in minutes and focus on writing great content.</span>
    
<div class="blank"></div>
<div class="franklin-toc"><ol><li><a href="#creating_your_website">Creating your website</a><ol><li><a href="#folder_structure">Folder structure</a></li><li><a href="#top_folder">Top folder</a></li><li><a href="#reserved_names">Reserved names</a></li><li><a href="#tag_pages">Tag pages</a></li><li><a href="#editing_and_testing_your_website">Editing and testing your website</a></li></ol></li><li><a href="#post-processing">Post-processing</a><ol><li><a href="#verify_links">Verify links</a></li><li><a href="#pre-rendering_and_compression">Pre-rendering and compression</a></li><li><a href="#publish">Publish</a></li></ol></li></ol></div>
<h2 id="creating_your_website"><a href="#creating_your_website" class="header-anchor">Creating your website</a></h2>
<p>To get started, the easiest is to use the <code>newsite</code> function to generate a website folder which you can then modify to your heart&#39;s content. The command takes one mandatory argument: the <em>name</em> of the folder &#40;which can be <code>&quot;.&quot;</code> if you want to set things up in your current directory&#41;. You can optionally specify a template:</p>
<pre><code class="language-julia-repl">julia&gt; newsite&#40;&quot;TestWebsite&quot;; template&#61;&quot;vela&quot;&#41;
✓ Website folder generated at &quot;TestWebsite&quot; &#40;now the current directory&#41;.
→ Use serve&#40;&#41; from Franklin to see the website in your browser.</code></pre>
<p>There are a number of <a href="https://tlienart.github.io/FranklinTemplates.jl/">simple templates</a> you can choose from and tweak.</p>
<div class="note"><div class="title">⚠ Note</div>
<div class="content">The templates are meant to be used as <em>starting points</em> and will likely require some fixes to match what you want. Your help to make them better is very welcome.</div></div>
<p>Once you have created a new website folder, you can start the live rendering of your website with</p>
<pre><code class="language-julia-repl">julia&gt; serve&#40;&#41;
→ Initial full pass...
→ Starting the server...
✓ LiveServer listening on http://localhost:8000/ ...
  &#40;use CTRL&#43;C to shut down&#41;</code></pre>
<p>and navigate in a browser to the corresponding address to preview the website.</p>
<h3 id="folder_structure"><a href="#folder_structure" class="header-anchor">Folder structure</a></h3>
<p>The initial call to <code>newsite</code> generates a folder with the following structure:</p>
<pre><code class="language-plaintext">.
├── _assets/
├── _layout/
├── _libs/
├── config.md
└── index.md</code></pre>
<p>After running <code>serve</code> the first time, an additional folder is generated: <code>__site</code> which will contain your full generated website. Among these folders:</p>
<div class="tlist"><ul>
<li><p>the files in the top folder such as <code>index.md</code> are the source files for the generated pages, you must have an <code>index.md</code> or <code>index.html</code> at the top level but can then use whatever folder structure you want &#40;see further&#41;,</p>
</li>
<li><p>you should <strong>not</strong> modify the content of <code>__site</code> as it&#39;s <em>generated</em> and any changes you do in there may be silently over-written whenever you modify files elsewhere,</p>
</li>
<li><p>the folders <code>_assets/</code>, <code>_libs/</code>, <code>_layout</code> and <code>_css</code> contain <em>auxiliary files</em> supporting your site:</p>
<ul>
<li><p><code>_assets/</code> will contain images, code snippets, etc.,</p>
</li>
<li><p><code>_css/</code> will contain the style sheets,</p>
</li>
<li><p><code>_libs/</code> will contain javascript libraries,</p>
</li>
<li><p><code>_layout/</code> will contain bits of HTML scaffolding for the generated pages,</p>
</li>
</ul>
</li>
</ul></div>
<h3 id="top_folder"><a href="#top_folder" class="header-anchor">Top folder</a></h3>
<p>In this folder,</p>
<div class="tlist"><ul>
<li><p><code>index.md</code> will generate the site&#39;s landing page,</p>
</li>
<li><p><code>pages/page1.md</code> would correspond to pages on your website &#40;you can have whatever subfolder structure you want in here&#41;,</p>
</li>
<li><p><code>config.md</code> allows specifying variables that help steer the page generation, you can also use it to declare global variables or definitions that can then be used on all pages.</p>
</li>
</ul></div>
<div class="note"><div class="title">⚠ Note</div>
<div class="content">You can also write pages in plain HTML. For instance, you may want to write an <code>index.html</code> file instead of generating it via the <code>index.md</code>. You will still need to put it in the exact same place and let Franklin copy the files appropriately.</div></div>
<p>Note that Franklin generates a folder structure in <code>__site</code> which allows having URLs like <code>&#91;website&#93;/page1/</code>. The following rules are applied:</p>
<ul>
<li><p>the filename is <code>&#91;path/&#93;index.md</code> or <code>&#91;path/&#93;index.html</code>, it will be copied over &quot;as is&quot; to <code>__site/&#91;path/&#93;index.html</code>,</p>
</li>
<li><p>the filename is <code>&#91;path/&#93;somepage.md</code> or <code>&#91;path/&#93;somepage.html</code>, it will be copied to <code>__site/&#91;path/&#93;somepage/index.html</code>.</p>
</li>
</ul>
<p>So for instance, if we ignore auxiliary files and you have</p>
<pre><code class="language-julia">.
├── index.md
├── folder
│   └── subpage.md
└── page.md</code></pre>
<p>it will lead to</p>
<pre><code class="language-julia">__site
  ├── index.html
  ├── folder
  │   └── subpage
  │       └── index.html
  └── page
      └── index.html</code></pre>
<p>which allows having the following URLs:</p>
<div class="tlist"><ul>
<li><p><code>&#91;website&#93;/</code></p>
</li>
<li><p><code>&#91;website&#93;/page/</code></p>
</li>
<li><p><code>&#91;website&#93;/folder/subpage/</code></p>
</li>
</ul></div>
<h3 id="reserved_names"><a href="#reserved_names" class="header-anchor">Reserved names</a></h3>
<p>To avoid name clashes, refrain from using the following paths where <code>/</code> indicates the top directory &#40;website folder&#41;:</p>
<div class="tlist"><ul>
<li><p><code>/css/</code> or <code>/css.md</code></p>
</li>
<li><p><code>/layout/</code> or <code>/layout.md</code></p>
</li>
<li><p><code>/literate/</code> or <code>/literate.md</code></p>
</li>
</ul></div>
<p>Also bear in mind that Franklin will ignore <code>README.md</code>, <code>LICENSE.md</code>, <code>Manifest.toml</code> and <code>Project.toml</code> &#40;<code>Manifest.toml</code> and <code>Project.toml</code> are still copied to the output directory&#41;.</p>
<h3 id="tag_pages"><a href="#tag_pages" class="header-anchor">Tag pages</a></h3>
<p>All pages with a given tag can be found &#40;by default&#41; at <code>&#91;website&#93;/tag/&lt;tag_name&gt;</code>. The tag page location can be changed by setting the <code>tag_page_path</code> variable in <code>config.md</code>. For example, setting <code>@def tag_page_path &#61; &quot;my_tags&quot;</code> would cause tag pages to appear at <code>&#91;website&#93;/my_tags/&lt;tag_name&gt;</code>.</p>
<h3 id="editing_and_testing_your_website"><a href="#editing_and_testing_your_website" class="header-anchor">Editing and testing your website</a></h3>
<p>The <code>serve</code> function can be used to launch a server which will track and render modifications. There are a few useful options you can use beyond the barebone <code>serve&#40;&#41;</code>, do <code>?serve</code> in your REPL for all options, we list a few noteworthy ones below:</p>
<div class="tlist"><ul>
<li><p><code>clear&#61;false</code>, whether to erase <code>__site</code> and start from a blank slate,</p>
</li>
<li><p><code>single&#61;false</code>, whether to do a single build pass generating all pages and not start the server.</p>
</li>
<li><p><code>prerender&#61;false</code>, whether to prerender code blocks and maths &#40;see the <a href="#optimisation_step">optimisation step</a>&#41;</p>
</li>
<li><p><code>verb&#61;false</code>, whether to show information about which page is being processed etc,</p>
</li>
<li><p><code>silent&#61;false</code>, whether to suppress any informative messages that could otherwise appear in  your console when editing your site, this goes one step further than <code>verb&#61;false</code> as it also  applies for code evaluation,</p>
</li>
<li><p><code>eval_all&#61;false</code>, whether to re-evaluate all code blocks on all pages.</p>
</li>
</ul></div>
<h2 id="post-processing"><a href="#post-processing" class="header-anchor">Post-processing</a></h2>
<h3 id="verify_links"><a href="#verify_links" class="header-anchor">Verify links</a></h3>
<p>Before deploying you may want to verify that links on your website lead somewhere, to do so use the <code>verify_links&#40;&#41;</code>. It will take a few seconds to verify all links on every generated page but can be quite helpful to identify dead links or links with typos:</p>
<pre><code class="language-julia-repl">julia&gt; verify_links&#40;&#41;
Verifying links... &#91;you seem online ✓&#93;
- internal link issue on page index.md: /menu3/.</code></pre>
<p>then after fixing and re-generating pages:</p>
<pre><code class="language-julia-repl">julia&gt; verify_links&#40;&#41;
All internal and external links verified ✓.</code></pre>
<div class="note"><div class="title">⚠ Note</div>
<div class="content">This functionality is pretty rudimentary and while it might help you to find internal dead links, for serious work you might still want to do a second pass with a well-established link-checker such as <a href="https://github.com/stevenvachon/broken-link-checker#readme">broken-link-checker</a>.</div></div>
<h3 id="pre-rendering_and_compression"><a href="#pre-rendering_and_compression" class="header-anchor">Pre-rendering and compression</a></h3>
<p>The <code>optimize</code> function can</p>
<div class="tlist"><ul>
<li><p>pre-render KaTeX and highlight.js code to HTML so that the pages don&#39;t have to load these javascript libraries,</p>
</li>
<li><p>minify all generated HTML and CSS.</p>
</li>
</ul></div>
<p>See <code>?optimize</code> for options.</p>
<p>Those two steps <em>may</em> lead to faster loading pages. Note that in order to run them, you will need a couple of external dependencies as mentioned in the <a href="/index.html#installing_optional_extras">installation section</a>.</p>
<div class="note"><div class="title">⚠ Note</div>
<div class="content"><p>The minifier script &#40;an external python lib&#41; used is far from perfect and can break your website, generally speaking, if things work locally but not when you deploy, try disabling it with <code>optimize&#40;minify&#61;false&#41;</code>.</p>
<p>Also note that if you use GitHub or GitLab pages, the minification is not needed as these platforms compress the pages themselves.</p></div></div>
<h3 id="publish"><a href="#publish" class="header-anchor">Publish</a></h3>
<div class="note"><div class="title">⚠ Note</div>
<div class="content">If you use GitHub or GitLab with a deployment action on those platforms, you do not need to use <code>publish</code>, you can just push your changes and let the relevant action do the rest on the platform. See the section on <a href="/workflow/deploy/">deployment</a>.</div></div>
<p>Once you have synched your local folder with a remote repository &#40;see <a href="/workflow/deploy/">deployment instructions</a>&#41;, the <code>publish</code> function can be called to deploy your website; it essentially:</p>
<div class="tlist"><ul>
<li><p>applies an optional optimisation step &#40;see the previous point&#41;,</p>
</li>
<li><p>does a <code>git add -A; git commit -am &quot;franklin-update&quot;; git push</code>.</p>
</li>
</ul></div>
<p>See <code>?publish</code> for more information.</p>
<p>In any case, before deploying, if you&#39;re working on a <em>project website</em> i.e. a website whose root URL will look like <code>username.gitlab.io/project/</code> then you should add the following line in your <code>config.md</code> file:</p>
<pre><code class="language-markdown">&#43;&#43;&#43;
prepath &#61; &quot;project&quot;
&#43;&#43;&#43;</code></pre>
<p>the <code>publish</code> function will then ensure that all links are fixed before deploying your website.</p>
<p>Note also that the <code>publish</code> function accepts a <code>final&#61;</code> keyword to which you can pass any function <code>&#40;&#41; -&gt; nothing</code> to do some final post-processing before pushing updates online. For instance, you can use <code>final&#61;lunr</code> where <code>lunr</code> is a function exported by Franklin which generates a Lunr search index &#40;see <a href="/extras/lunr/">this tutorial</a> for more details&#41;.</p>
<div class="page-foot">
  <div class="copyright">
    &copy; Thibaut Lienart. Last modified: August 11, 2023. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div><!-- CONTENT ENDS HERE -->
    </div> <!-- end of class main-content -->
    </div> <!-- end of class main-content-wrap -->
    </div> <!-- end of class page-wrap-->
    
    
      <script src="/libs/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script>

    
  </body>
</html>
